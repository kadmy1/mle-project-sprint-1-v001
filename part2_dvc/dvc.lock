schema: '2.0'
stages:
  get_data:
    cmd: python scripts/data.py
    deps:
    - path: scripts/data.py
      hash: md5
      md5: 757eb13184e920bd0b40256f447edecf
      size: 1086
    params:
      params.yaml:
        index_col: flat_id
    outs:
    - path: data/initial_data.csv
      hash: md5
      md5: 270c65cfc9e3988249d56e5e3a7a1d94
      size: 12573453
      cloud:
        my_storage:
          etag: 270c65cfc9e3988249d56e5e3a7a1d94
          version_id: 00061FD32739268C
  fit_model:
    cmd: python scripts/fit.py
    deps:
    - path: data/initial_data.csv
      hash: md5
      md5: 270c65cfc9e3988249d56e5e3a7a1d94
      size: 12573453
    - path: scripts/fit.py
      hash: md5
      md5: aeb25da2dde85b6c5546a78329fd6d20
      size: 1030
    params:
      params.yaml:
        index_col: flat_id
        target_col: price
    outs:
    - path: models/fitted_model.pkl
      hash: md5
      md5: d7aef4d3a78269c9a6031dfa27b268f7
      size: 7846035
      cloud:
        my_storage:
          etag: d7aef4d3a78269c9a6031dfa27b268f7
          version_id: 00061FD32732F4EF
  evaluate_model:
    cmd: python scripts/evaluate.py
    deps:
    - path: models/fitted_model.pkl
      hash: md5
      md5: d7aef4d3a78269c9a6031dfa27b268f7
      size: 7846035
    - path: scripts/evaluate.py
      hash: md5
      md5: 61126155ceba677c376125d7092cadd9
      size: 830
    params:
      params.yaml:
        index_col: flat_id
        n_splits: 5
        target_col: price
    outs:
    - path: cv_results/cv_res.json
      hash: md5
      md5: fad2692a46e13df2f25ac1d4490fd3dd
      size: 66
      cloud:
        my_storage:
          etag: fad2692a46e13df2f25ac1d4490fd3dd
          version_id: 00061FD32733F146
